<form novalidate (ngSubmit)="onSubmit(visaForm)" [formGroup]="visaForm">
	<div class="portlet box yellow border-color">
		<div class="portlet-title div-color">
			<div class="caption title">
				Visa
			</div>
			<div class="actions">
				<span class="div-actions"> 
                <i class="fa fa-check-circle"></i> Requires Approval  
            </span>
			</div>
		</div>
		<div class="portlet-body">
			<p-growl [value]="msgs"></p-growl>
			<div *ngIf="(visa | async)?.length == 0">
				<hr>
				<h5> No Records Found!</h5>
			</div>
			<div *ngIf="(visa | async)?.length > 0">
				<p-dataTable [value]="visa | async" [responsive]="true" emptyMessage="No Records Found!">
					<p-column header="Edit">
						<template let-visaData="rowData" pTemplate type="body">
							<i class="fa fa-pencil icon-color" (click)="editVisa(visaData)"></i>
						</template>
					</p-column>
					<p-column header="Visa number" field="Number"></p-column>
					<p-column header="Visa Expiry date" field="ExpDate"></p-column>
					<p-column header="Visa Type" field="Type"></p-column>
					<p-column header="Document" field="FilePath"></p-column>
					<p-column header="Status" field="Status"></p-column>
					<p-column header="HR Comments" field="Comments"></p-column>
				</p-dataTable>
			</div>
			<div *ngIf="!showDiv">
				<div class="row row-margin">
					<div class="col-md-6 col-margin">
						<span>Visa number</span>
						<span class="req-field"> *</span>
						<div class="div-margin">
							<input type="text" id="visa_number" formControlName="number" class="form-control" placeholder="">
							<div class="alert alert-danger" *ngIf="visaForm.get('number').hasError('required') && visaForm.get('number').touched">
								Please Enter Visa number
							</div>
						</div>
					</div>
					<div class="col-md-6 col-margin">
						<span>Visa Expiry date</span>
						<span class="req-field"> *</span>
						<div class="div-margin">
							<p-calendar id="visa_expiryDate" formControlName="expiryDate" [showIcon]="true"></p-calendar>
							<div class="alert alert-danger" *ngIf="visaForm.get('expiryDate').hasError('required') && visaForm.get('expiryDate').touched">
								Please Enter Visa Expiry date
							</div>
						</div>
					</div>
				</div>
				<div class="row row-margin">
					<div class="col-md-6 col-margin">
						<span>Visa Type</span>
						<span class="req-field"> *</span>
						<div class="div-margin">
							<input type="text" id="visa_type" formControlName="type" class="form-control" placeholder="">
							<div class="alert alert-danger" *ngIf="visaForm.get('type').hasError('required') && visaForm.get('type').touched">
								Please Enter Visa Type
							</div>
						</div>
					</div>
					<div class="col-md-6 col-margin">
						<span>Scanned Copy</span>
						<span class="req-field"> *</span>
						<div class="div-margin">
							<input type="file" id="visa_document">
						</div>
					</div>
				</div>
				<div class="row row-margin button-margin">
					<button pButton type="submit" label="Submit" [disabled]="visaForm.invalid"></button>
					<button pButton type="text" label="Cancel" (click)="cancel()"></button>
				</div>
			</div>
			<div class="row row-margin button-margin" *ngIf="showDiv">
				<button pButton type="text" icon="fa fa-plus" (click)="onAddClick()" label="Add New Visa Record"></button>
			</div>
		</div>
	</div>
</form>