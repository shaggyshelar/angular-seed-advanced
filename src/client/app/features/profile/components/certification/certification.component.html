<form novalidate (ngSubmit)="onSubmit(certificationForm)" [formGroup]="certificationForm">
    <div class="portlet-body">
        <div *ngIf="certifications.length == 0">
            <hr>
            <h5> {{ 'NO_RECORDS' | translate }}</h5>
        </div>
        <div *ngIf="certifications.length > 0">
            <p-dataTable [value]="certifications" [responsive]="true" emptyMessage="{{ 'NO_RECORDS' | translate }}">
                <p-column header="{{ 'EDIT' | translate }}">
                    <template let-certificationData="rowData" pTemplate type="body">
                        <i class="fa fa-pencil icon-color" (click)="selectCertification(certificationData)"></i>
                    </template>
                </p-column>
                <p-column header="{{ 'CERTIFICATION' | translate }}" field="Name"></p-column>
                <p-column header="{{ 'CODE' | translate }}" field="Code"></p-column>
                <p-column header="{{ 'CERTIFICATION_DATE' | translate }}" field="Date"></p-column>
                <p-column header="{{ 'DOCUMENT' | translate }}" field="FilePath"></p-column>
                <p-column header="{{ 'STATUS' | translate }}" field="Status"></p-column>
                <p-column header="{{ 'COMMENTS' | translate }}" field="Comments"></p-column>
            </p-dataTable>
        </div>
        <div *ngIf="!showDiv">
            <div class="row row-margin">
                <div class="col-md-2 col-margin">
                    <span>{{ 'CERTIFICATION' | translate }}</span>
                    <span class="req-field"> *</span>
                    <div class="div-margin">
                        <p-dropdown [options]="certificationOptions" id="certification_option" formControlName="option" [style]="{'width':'100%'}"></p-dropdown>
                        <div class="alert alert-danger" *ngIf="certificationForm.get('option').hasError('required') && certificationForm.get('option').touched">
                            {{ 'PLEASE_ENTER' | translate }} {{ 'CERTIFICATION' | translate }}
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-margin">
                    <span>{{ 'CERTIFICATION_CODE' | translate }}</span>
                    <span class="req-field"> *</span>
                    <div class="div-margin">
                        <p-dropdown [options]="certificationCodes" id="certification_code" formControlName="code" disabled="true" [style]="{'width':'100%'}"></p-dropdown>
                        <div class="alert alert-danger" *ngIf="certificationForm.get('code').hasError('required') && certificationForm.get('code').touched">
                            {{ 'PLEASE_ENTER' | translate }} {{ 'CERTIFICATION_CODE' | translate }}
                        </div>
                    </div>
                </div>
                <div class="col-md-2 col-margin">
                    <span>{{ 'FROM_ESPL' | translate }}</span>
                    <div class="div-margin">
                        <p-checkbox binary="true" id="certification_fromEspl" formControlName="fromEspl"></p-checkbox>
                    </div>
                </div>
                <div class="col-md-3 col-margin">
                    <span>{{ 'CERTIFICATION_DATE' | translate }}</span>
                    <span class="req-field"> *</span>
                    <div class="div-margin">
                        <p-calendar [showIcon]="true" id="certification_date" formControlName="date" dateFormat="dd/mm/yy" readonlyInput="readonlyInput"></p-calendar>
                    </div>
                    <div class="alert alert-danger" *ngIf="certificationForm.get('date').hasError('required') && certificationForm.get('date').touched">
                        {{ 'PLEASE_ENTER' | translate }} {{ 'CERTIFICATION_DATE' | translate }}
                    </div>
                </div>
                <div class="col-md-2 col-margin">
                    <span>{{ 'UPLOAD_CERTIFICATE' | translate }}</span>
                    <span class="req-field"> *</span>
                    <div class="div-margin">
                        <input type="file" id="certification_file">
                    </div>
                </div>
            </div>
            <div class="row row-margin button-margin">
                <button pButton type="submit" label="{{ 'SUBMIT' | translate }}" [disabled]="certificationForm.invalid"></button>
                <button pButton type="text" label="{{ 'CANCEL' | translate }}" (click)="cancel()"></button>
            </div>
        </div>
        <div class="row row-margin button-margin" *ngIf="showDiv">
            <button pButton type="text" icon="fa fa-plus" (click)="onAddClick()" label="{{ 'ADD_NEW_CERTIFICATE' | translate }}"></button>
        </div>
    </div>
</form>